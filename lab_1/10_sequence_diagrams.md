# Диаграммы последовательности

## Регистрация пользователя

```mermaid
sequenceDiagram
    actor U as Пользователь
    participant S as Система
    participant DB as База данных
    participant E as Email-сервис

    U->>S: Заполняет форму регистрации
    S->>DB: Проверка существующего email
    DB-->>S: Email не найден
    S->>DB: Сохранение нового пользователя
    DB-->>S: Успешное создание записи
    S->>E: Отправка письма с подтверждением
    E-->>U: Подтверждение по email
    S-->>U: Уведомление об успешной регистрации
```

## Присоединение к видеоконференции
```mermaid
sequenceDiagram
    actor U as Пользователь
    participant S as Система
    participant DB as База данных
    participant V as Модуль видеоконференций

    U->>S: Запрос на подключение к конференции
    S->>DB: Проверка доступа к конференции
    DB-->>S: Доступ разрешен
    S->>V: Подключение пользователя к сессии
    V-->>S: Подтверждение подключения
    S-->>U: Успешное подключение
```

## Отправка сообщения в чат
```mermaid
sequenceDiagram
    actor U as Пользователь
    participant S as Система
    participant DB as База данных
    participant C as Модуль чатов

    U->>S: Ввод сообщения
    S->>C: Отправка сообщения в чат
    C->>DB: Сохранение сообщения
    DB-->>C: Подтверждение сохранения
    C-->>S: Сообщение доставлено
    S-->>U: Отображение сообщения
```

## Блокировка пользователя
```mermaid
sequenceDiagram
    actor A as Администратор
    participant S as Система
    participant DB as База данных
    participant L as Система логирования

    A->>S: Запрос на блокировку пользователя
    S->>DB: Проверка прав администратора
    DB-->>S: Права подтверждены
    S->>DB: Изменение статуса пользователя на BLOCKED
    DB-->>S: Пользователь заблокирован
    S->>L: Логирование действия
    L-->>S: Лог записан
    S-->>A: Подтверждение блокировки
```

## Описание диаграмм

### Регистрация пользователя
Диаграмма показывает процесс регистрации нового пользователя: проверка email, создание записи в базе и отправка письма-подтверждения.

### Присоединение к видеоконференции
Показывает последовательность шагов, связанных с доступом пользователя к активной видеоконференции, включая валидацию и подключение.

### Отправка сообщения в чат
Определяет, как сообщение проходит путь от ввода пользователем до отображения в чате после сохранения в БД.

### Блокировка пользователя
Описывает действия администратора при блокировке пользователя, включая проверку полномочий, изменение статуса и логирование.
